{"ast":null,"code":"var _jsxFileName = \"/Users/kal/Documents/dndexample/dnd/src/Container.tsx\",\n    _s = $RefreshSig$();\n\nimport update from \"immutability-helper\";\nimport { memo, useCallback, useState } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { Card } from \"./Card\";\nimport { ItemTypes } from \"./ItemTypes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  width: 400\n};\nconst ITEMS = [{\n  id: 1,\n  text: \"Write a cool JS library\"\n}, {\n  id: 2,\n  text: \"Make it generic enough\"\n}, {\n  id: 3,\n  text: \"Write README\"\n}, {\n  id: 4,\n  text: \"Create some examples\"\n}, {\n  id: 5,\n  text: \"Spam in Twitter and IRC to promote it\"\n}, {\n  id: 6,\n  text: \"???\"\n}, {\n  id: 7,\n  text: \"PROFIT\"\n}];\nexport const Container = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(function Container() {\n  _s();\n\n  const [cards, setCards] = useState(ITEMS);\n  console.log(cards); // const [areas, setAreas] = useState( [{\n  //   id: 8,\n  //   text: \"Something borrowed something new\",\n  // }]);\n\n  const [areas, setAreas] = useState([]);\n  const [] = useDrop({\n    accept: ItemTypes.CARD\n  });\n  const findCard = useCallback(id => {\n    const card = cards.filter(c => `${c.id}` === id)[0];\n    return {\n      card,\n      index: cards.indexOf(card)\n    };\n  }, [cards]);\n  const moveCard = useCallback((id, atIndex) => {\n    const {\n      card,\n      index\n    } = findCard(id);\n    setCards(update(cards, {\n      $splice: [[index, 1], [atIndex, 0, card]]\n    }));\n  }, [findCard, cards, setCards]);\n\n  const getGroup = () => {\n    return areas.map((card, idx) => /*#__PURE__*/_jsxDEV(Card, {\n      id: `${card.id}`,\n      text: card.text,\n      moveCard: moveCard,\n      findCard: findCard\n    }, card.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [cards.map(card => /*#__PURE__*/_jsxDEV(Card, {\n      id: `${card.id}`,\n      text: card.text,\n      moveCard: moveCard,\n      findCard: findCard\n    }, card.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"solid 1px\",\n        height: \"35px\",\n        marginTop: \"50px\"\n      },\n      children: areas.length > 2 ? getGroup() : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"nothing yet\"\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}, \"4Sd7LDy/f/3y66APHnGTbmCWLZU=\", false, function () {\n  return [useDrop];\n})), \"4Sd7LDy/f/3y66APHnGTbmCWLZU=\", false, function () {\n  return [useDrop];\n});\n_c2 = Container;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container$memo\");\n$RefreshReg$(_c2, \"Container\");","map":{"version":3,"names":["update","memo","useCallback","useState","useDrop","Card","ItemTypes","style","width","ITEMS","id","text","Container","cards","setCards","console","log","areas","setAreas","accept","CARD","findCard","card","filter","c","index","indexOf","moveCard","atIndex","$splice","getGroup","map","idx","border","height","marginTop","length"],"sources":["/Users/kal/Documents/dndexample/dnd/src/Container.tsx"],"sourcesContent":["import update from \"immutability-helper\";\nimport type { FC } from \"react\";\nimport { memo, useCallback, useState } from \"react\";\nimport { useDrop } from \"react-dnd\";\n\nimport { Card } from \"./Card\";\nimport { ItemTypes } from \"./ItemTypes\";\n\nconst style = {\n  width: 400,\n};\n\nexport interface ContainerState {\n  cards: any[];\n}\n\nconst ITEMS = [\n  {\n    id: 1,\n    text: \"Write a cool JS library\",\n  },\n  {\n    id: 2,\n    text: \"Make it generic enough\",\n  },\n  {\n    id: 3,\n    text: \"Write README\",\n  },\n  {\n    id: 4,\n    text: \"Create some examples\",\n  },\n  {\n    id: 5,\n    text: \"Spam in Twitter and IRC to promote it\",\n  },\n  {\n    id: 6,\n    text: \"???\",\n  },\n  {\n    id: 7,\n    text: \"PROFIT\",\n  },\n];\n\nexport const Container: FC = memo(function Container() {\n  const [cards, setCards] = useState(ITEMS);\n  console.log(cards);\n\n  // const [areas, setAreas] = useState( [{\n  //   id: 8,\n  //   text: \"Something borrowed something new\",\n  // }]);\n\n  const [areas, setAreas] = useState([]);\n\n  const [] = useDrop({\n    accept: ItemTypes.CARD,\n  });\n\n  const findCard = useCallback(\n    (id: string) => {\n      const card = cards.filter((c) => `${c.id}` === id)[0] as {\n        id: number;\n        text: string;\n      };\n      return {\n        card,\n        index: cards.indexOf(card),\n      };\n    },\n    [cards]\n  );\n\n  const moveCard = useCallback(\n    (id: string, atIndex: number) => {\n      const { card, index } = findCard(id);\n      setCards(\n        update(cards, {\n          $splice: [\n            [index, 1],\n            [atIndex, 0, card],\n          ],\n        })\n      );\n    },\n    [findCard, cards, setCards]\n  );\n\n  const getGroup = () => {\n    return (\n      areas.map((card,idx) => (\n        <Card\n          key={card.id}\n          id={`${card.id}`}\n          text={card.text}\n          moveCard={moveCard}\n          findCard={findCard}\n        />\n      ))\n    )\n  }\n\n  return (\n    <>\n      {cards.map((card) => (\n        <Card\n          key={card.id}\n          id={`${card.id}`}\n          text={card.text}\n          moveCard={moveCard}\n          findCard={findCard}\n        />\n      ))}\n      <div style={{ border: \"solid 1px\", height: \"35px\", marginTop: \"50px\" }}>\n        {areas.length>2 ? getGroup() : <>nothing yet</>}\n      </div>\n    </>\n  );\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}